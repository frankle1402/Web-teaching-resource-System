## 📝 教学资源生成与管理系统 PRD（MVP版本）

---

### 📌 TL;DR

开发一个面向医卫类教师的教学资源生成平台，允许教师通过 AI 和可视化编辑器创建 HTML 教学资源，管理、分类并发布到互联网进行公开访问与嵌入。系统提供模板支持，用户使用微信扫码登录，资源支持版本记录。此版本为单机 MVP，便于本地开发调试。

---

## 🎯 目标

### ✅ 用户目标

* 教师能快速生成并编辑结构清晰、美观的教学HTML资源
* 教学资源可以嵌入 Moodle，便于学生访问学习
* 所有操作简洁、无需技术门槛，降低资源制作成本

### ✅ 商业目标

* 验证AI生成 + 编辑器结合的教学资源创作体验
* 建立可扩展的教学资源模板系统
* 为后续多用户大规模使用铺垫数据模型和架构

### ❌ 非目标

* 不支持上传PPT/PDF等静态文件
* 不实现用户权限分级控制、资源私有化
* 不进行资源内容审核
* 不采集资源访问行为数据（留到第二阶段）

---

## 👤 目标用户

* 医学类中职、高职、本科教师
* 使用Moodle平台的高校用户
* 具备基本电脑操作能力，无需编程基础

---

## 📚 用户故事

```
作为一名中职护理课程教师，
我希望能用简单的提示语生成一份结构完整的教学资源，
并通过可视化方式进行编辑和调整样式，
最终能发布出一个网页资源嵌入到我的Moodle课程中。
```

---

## 🧩 功能模块拆解

### 1. 用户登录

| 功能     | 说明                            |
| ------ | ----------------------------- |
| 微信扫码登录 | 教师通过微信授权登录，系统获取 openid 并绑定手机号 |
| 无需注册   | 用户信息后台自动生成，仅记录手机号、openid、登录时间 |

---

### 2. 教学资源创建

| 功能     | 说明                             |
| ------ | ------------------------------ |
| 输入基础信息 | 教师输入课程名、层次（中职/高职/本科）、专业、主题     |
| AI生成流程 | 系统先生成教学大纲，再生成对应模块内容（简明要点为主）    |
| 模板选择   | 教师选择一个模板（默认提供2种）来决定HTML结构样式    |
| AI调用   | 调用公司内部接口（302.ai），系统管理员可配置提示词模板 |

---

### 3. 编辑功能

| 功能     | 说明                              |
| ------ | ------------------------------- |
| 可视化编辑器 | WYSIWYG编辑器（使用 TipTap），支持所见即所得编辑 |
| 代码模式切换 | 教师可切换为HTML源码编辑                  |
| 修改记录保存 | 每次点击“保存”将保存一份快照，支持查看历史          |
| 插入元素   | 支持文本、标题、图片上传（压缩后）、列表、代码块等基础结构   |
| 帮助说明   | 每个功能旁带 `❓` 帮助图标，展示简要说明（文本为主）    |

---

### 4. 教学资源管理

| 功能    | 说明                          |
| ----- | --------------------------- |
| 我的资源页 | 展示教师自己创建的资源，按时间倒序排列         |
| 分类筛选  | 按课程 / 层次 / 专业筛选资源           |
| 文件夹管理 | 支持自定义文件夹分类归档资源              |
| 操作功能  | 浏览 / 编辑 / 删除 / 发布 / 复制创建新资源 |

---

### 5. 教学资源发布与访问

| 功能       | 说明                                               |
| -------- | ------------------------------------------------ |
| 发布功能     | 点击“发布”即生成公共访问 URL                                |
| URL结构    | 如 `https://res.xx.com/{uuid}`，不能枚举，防爬处理          |
| 展示页面     | 引用 Vue3 + Element Plus + Tailwind 构建的 HTML 模板    |
| 静态部署     | HTML 内容上传至 OSS + CDN 加速，CSS/JS 引用国内 CDN（阿里云/腾讯云） |
| iframe嵌入 | 默认适配Moodle嵌入（响应式布局，支持手机/PC访问）                    |

---

### 6. 模板管理（管理员）

| 功能   | 说明                               |
| ---- | -------------------------------- |
| 模板结构 | 包含模板名称、HTML结构（含占位符）、样式CDN地址、描述信息 |
| 上传模板 | 管理员通过后台上传模板（直接录入HTML结构 + 引用样式）   |
| 模板选择 | 教师创建资源时可选择使用的模板                  |
| 模板扩展 | 默认系统提供 2 个模板，后续支持上传多个风格模板        |

---

## 🛠 技术实现概要（MVP本地开发用）

### 前端

* 技术栈：Vue3 + Vite + Element Plus + TailwindCSS
* 编辑器：TipTap 编辑器（支持 WYSIWYG + HTML 输出）
* 所有样式/JS库引用：阿里云 or 腾讯云 CDN

### 后端

* 本地调试用 SQLite / MySQL
* 技术语言：Node.js / Python / PHP（视开发者选型）
* 本地静态页面生成：资源写入本地 HTML 文件或上传至本地 OSS 模拟目录

---

## 🗃 数据库结构（简化版）

已在前一条消息中提供，推荐使用该结构进行初期调试（SQLite 支持）。

---

## 📏 成功指标（MVP验证）

| 指标            | 成功标准                         |
| ------------- | ---------------------------- |
| 用户完成资源创建流程    | >= 80% 教师可顺利生成 + 编辑 + 发布一个资源 |
| 资源可在Moodle中嵌入 | 100% 成功加载、布局响应良好             |
| 页面加载速度        | HTML资源加载<1.5秒（含CDN）          |
| 编辑器使用体验       | 教师反馈编辑器简单直观                  |

---

## 🛣 迭代方向（第二阶段预留）

* 支持视频嵌入（B站链接）
* 访问行为统计与分析（时间/IP/设备/Moodle用户等）
* 教师间资源共享与引用改编
* 资源权限与私密性控制
* AI敏感内容审核
* 版本回退功能
* 多人协作编辑

